
{% extends 'back/index.html.twig' %}


    {% block bodyback %}

        <h1 style="text-align: center">GESTION DES COURS</h1>
        <center>

        </center>
        <div class="d-flex justify-content-between align-items-center mb-3">
        </div>
        <!--
        <input type="text" id="search" class="form-control" placeholder="Search">
        -->
        <table class="table">
            <thead>
            <tr>
                <th >ID</th>
                <th >Code</th>
                <th >Titre</th>
                <th >Type</th>
                <th>Contenu</th>
                <th >Afficher</th>
                <th >Modifier</th>
            </tr>
            </thead>


            <div style="text-align: center" >
                <button  class="btn btn-dark" >
                    <a href="{{ path('cours_new') }}">Ajouter un nouveau cours</a>
                </button>
            </div>
            <div class="d-flex justify-content-between align-items-center mb-3">
            </div>
            <tbody id="all">
            {% for tablecour in tablecours %}

                <tr>
                    <td>{{ tablecour.id }}</td>
                    <td>{{ tablecour.Code }}</td>
                    <td>{{ tablecour.Titre }}</td>
                    <td>{{ tablecour.Duree }}</td>
                    <td>{{ tablecour.Contenu }}</td>

                    <td>
                        <button  type="button" class="btn btn-dark" >
                        <a href="{{ path('cours_show', {'id': tablecour.id}) }}">Afficher</a>
                        </button>
                    </td>
                    <td>
                        <button  type="button" class="btn btn-dark" >
                        <a href="{{ path('cours_edit', {'id': tablecour.id}) }}">Modifier</a>
                        </button>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="7">no records found</td>
                </tr>
            {% endfor %}
            </tbody>

        </table>


<!--
        <script
                src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
        </script>
        <script>
            $( document ).ready(function() {
                $("#search").keyup(function(e){
                    /* La variable value va prendre la valeur insérer dans le champ de texte afin d’effectuer la recherche */
                    var value = $(this).val();
                    /* Ajax est lancé lors du remplissage du champ texte dont l’id est « search » pour faire la recherche */
                    $.ajax({
                        /* l’url est une chaine de caractères contenant l’adresse où la requête est envoyée */

                        /* La méthode utilisée pour transférer les données est GET */
                        type : 'GET',
                        /*Ici search value va prendre la chaine entrée par un utilisateur dans la zone de recherche et sera placée après l’url */
                        data: {
                            'searchValue' : value
                        },
                        /*Cette fonction permet de vider le contenu du tableau pour recevoir le nouveau contenu*/
                        success : function(retour){
                            if(retour){
                                $('#t tbody#search').empty();
                                $.each(JSON.parse(retour), function(i, obj) {
                                    $('#t tbody#all').hide();
                                    $('#t tbody#search').append('<tr><td> '+obj.id+'  </td><td>    '+obj.Code+'  </td><td>'+obj.Titre+' </td><td>'+obj.Duree+' </td><td>'+obj.Contenu+'</td><td><a href="cours_show/'+obj.id+'">Afficher</a> </br><a href="cours_edit/'+obj.id+'">Modifier</a></td></tr>');
                                });
                            }
                            else
                            {
                                $('#t tbody#all').show();
                                $('#t tbody#search').empty();
                                $('#t tbody#search').fadeIn('fast');
                            }
                        },
                    });
                    return false;
                });
            });
        </script>
-->
    {% endblock %}

